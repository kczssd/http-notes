## 图解HTTP(3)

### HTTP状态码

> 服务端描述返回的请求结果

| 状态码 |                         意义                         |
| :----: | :--------------------------------------------------: |
|  2××   |               **请求被服务端正常响应**               |
|  204   |       正常处理，但返回的报文中不包含实体的主体       |
|  206   |                   成功处理范围请求                   |
|  3××   | **浏览器需要执行某些特殊操作以正确处理请求(重定向)** |
|  301   |      永久性重定向，请求的资源已被分配了新的URI       |
|  302   |      临时性重定向，请求的资源临时被分配新的URI       |
|  303   |          与302类似，但明确采用GET来获取资源          |
|  304   |       资源已找到，但不符合条件，不包含响应主体       |
|  307   |                  302禁止POST变为GET                  |
|  4××   |              **客户端是发生错误的所在**              |
|  400   |                请求报文中存在语法错误                |
|  401   |             发送的请求需要有通过HTTP认证             |
|  403   |              请求资源的访问被服务端拒绝              |
|  404   |                服务器无法找到请求资源                |
|  5××   |                **服务端本身发生错误**                |
|  500   |                服务端在执行时发生错误                |
|  503   |               服务器超负荷，或停机维护               |

### Web服务器

---

#### 虚拟主机实现多个域名

---

> 一台服务器可以通过虚拟主机的方式搭建多个Web站点，但DNS进行域名解析后会指向同一个ip地址，通过Host首部字段中的URI来进行区分。

#### 通信数据转发程序:代理、网关、隧道

---

##### 代理

> 代理服务器的基本行为就是转发请求或者响应，追加写入Via首部信息

如：客户端发==> 代理服务器proxy(Via:proxy) ==> 源服务器

使用代理的理由:利用缓存技术减少网络带宽流量，对特定网站的访问控制等等

1. **缓存代理**(缓存服务器)

   > 代理转发响应时，缓存代理会预先将资源的副本缓存保存在代理服务器上。当代理再次接收到相同资源的请求时，就可以**直接将缓存的资源**作为响应返回

2. **透明代理**

   > 不对报文做任何加工的代理类型被称为透明代理。反之非透明代理

##### 网关

> 网关区别于代理，可以使通信线路上的服务器提供非HTTP协议服务

如：网关可以连接数据库。可以在客户端与网管之间的线路上加密以确保连接的安全

##### 隧道

> 隧道的目的是确保客户端与服务器进行安全的通信。隧道本身不解析HTTP，并在断开时结束。

如：使用ssl等加密手段进行通信

#### 保存资源的缓存

---

##### 缓存有效性

> 缓存服务器在返回给客户端前，需要向源服务器确认缓存资源的有效性。

##### 客户端缓存(可扩展)

> 缓存还可以存在客户端的浏览器中，作为临时网络文件



​								